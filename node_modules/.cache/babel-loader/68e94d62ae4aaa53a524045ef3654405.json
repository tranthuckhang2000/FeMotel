{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst path = \"http://localhost:3000/\";\nconst initialState = {\n  listMotel: [],\n  isLoading: true,\n  error: \"\"\n};\nconst motelSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    getStart: state => {\n      state.isLoading = true;\n    },\n    getSuccess: (state, action) => {\n      state.isLoading = false;\n      state.listMotel = action.payload; // console.log(\"reducer: sent\");\n    },\n    getError: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    }\n  }\n});\nexport const {\n  getStart,\n  getError,\n  getSuccess\n} = motelSlice.actions;\nexport const saveMotel = (title, phone, price, square, address, des) => async dispatch => {\n  try {\n    dispatch(getStart());\n    console.log(title);\n    const res = await axios({\n      method: \"post\",\n      url: `${path}motels`,\n      data: {\n        title,\n        phone,\n        price,\n        square,\n        address,\n        des\n      }\n    });\n    dispatch(getSuccess(res.data));\n    console.log(res.data);\n  } catch (err) {\n    dispatch(getError(err));\n  }\n};\nexport const getAllMotel = () => async dispatch => {\n  try {\n    dispatch(getStart());\n    const res = await axios.get(`${path}motels`, {});\n    dispatch(getSuccess(res.data));\n  } catch (err) {\n    dispatch(getError(err));\n  }\n};\nexport const getMotelById = id => async dispatch => {\n  try {\n    dispatch(getStart());\n    const res = await axios.get(`${path}motels`, {});\n    console.log(id);\n\n    for (let i = 0; i < res.data.length; i++) {\n      console.log(res.data[i].id);\n\n      if (res.data[i].id === id) {\n        dispatch(getSuccess(res.data[i]));\n        console.log(res.data[i]);\n      }\n    }\n  } catch (err) {\n    dispatch(getError(err));\n  }\n};\nexport default motelSlice.reducer;","map":{"version":3,"sources":["/Users/khangtran/Documents/GitHub/FeMotel/src/reducers/Motel.Reducer.js"],"names":["createSlice","axios","path","initialState","listMotel","isLoading","error","motelSlice","name","reducers","getStart","state","getSuccess","action","payload","getError","actions","saveMotel","title","phone","price","square","address","des","dispatch","console","log","res","method","url","data","err","getAllMotel","get","getMotelById","id","i","length","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst path = \"http://localhost:3000/\";\nconst initialState = {\n  listMotel: [],\n  isLoading: true,\n  error: \"\",\n};\n\nconst motelSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    getStart: (state) => {\n      state.isLoading = true;\n    },\n    getSuccess: (state, action) => {\n      state.isLoading = false;\n      state.listMotel = action.payload;\n      // console.log(\"reducer: sent\");\n    },\n    getError: (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const { getStart, getError, getSuccess } = motelSlice.actions;\n\nexport const saveMotel =\n  (title, phone, price, square, address, des) => async (dispatch) => {\n    try {\n      dispatch(getStart());\n      console.log(title);\n      const res = await axios({\n        method: \"post\",\n        url: `${path}motels`,\n        data: {\n          title,\n          phone,\n          price,\n          square,\n          address,\n          des,\n        },\n      });\n      dispatch(getSuccess(res.data));\n      console.log(res.data);\n    } catch (err) {\n      dispatch(getError(err));\n    }\n  };\nexport const getAllMotel = () => async (dispatch) => {\n  try {\n    dispatch(getStart());\n    const res = await axios.get(`${path}motels`, {});\n    dispatch(getSuccess(res.data));\n  } catch (err) {\n    dispatch(getError(err));\n  }\n};\n\nexport const getMotelById = (id) => async (dispatch) => {\n  try {\n    dispatch(getStart());\n    const res = await axios.get(`${path}motels`, {});\n    console.log(id)\n    for (let i = 0; i < res.data.length; i++) {\n      console.log(res.data[i].id);\n      if (res.data[i].id === id) {\n        dispatch(getSuccess(res.data[i]));\n        console.log(res.data[i])\n      }\n    }\n  } catch (err) {\n    dispatch(getError(err));\n  }\n};\n\nexport default motelSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}